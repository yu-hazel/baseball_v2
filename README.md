# âš¾ï¸ ë‚´ ê¿ˆì€ ìŠ¹ë¦¬ìš”ì • ver.2

#### ì´ê²¨ë„, ì ¸ë„ í™”ê°€ ë‚˜ëŠ” ì•¼êµ¬ ì°íŒ¬ë“¤ì„ ìœ„í•œ ì•¼êµ¬ ê¸°ë¡ ì›¹ ì•±

ì´ í”„ë¡œì íŠ¸ëŠ” 'Vue.jsë¥¼ í™œìš©í•œ í”„ë¡œê·¸ë ˆì‹œë¸Œ ì›¹ ì•±(PWA) ê°œë°œì ì–‘ì„±ê³¼ì •[14th]' ìˆ˜ê°•ì„ ë°”íƒ•ìœ¼ë¡œ ì œì‘í•œ ê°œì¸ í¬íŠ¸í´ë¦¬ì˜¤ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. <br>
ì´ˆê¸° ë²„ì „(ver.1)ì—ì„œëŠ” ëª¨ë“  í•­ëª©ì„ ìˆ˜ê¸°ë¡œ ì…ë ¥í•˜ê³  ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ëŠ” ë¡œì§ìœ¼ë¡œ ì´ë£¨ì–´ì¡ŒìŠµë‹ˆë‹¤. <br>
í•´ë‹¹ ë””ë²¨ë¡­ ë²„ì „(ver.2)ì—ì„œëŠ” **Supabase**ë¥¼ í†µí•œ ë°ì´í„° ê´€ë¦¬ë¡œ ë°˜ì˜êµ¬ì ì¸ ë°ì´í„° ê´€ë¦¬ë¥¼ êµ¬í˜„í•˜ê³ , ì‚¬ìš©ìì˜ ì…ë ¥ í”¼ë¡œë„ë¥¼ ê°ì†Œí•˜ëŠ” ë° ì£¼ ëª©ì ì„ ë‘ì–´ ê°œë°œí•˜ì˜€ìŠµë‹ˆë‹¤.

**Vite + Vue.js**ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹Œë“œ ê³¼ì •ì„ ê°„ì†Œí™”í•˜ì˜€ìœ¼ë©°, **Vuetify**ë¥¼ í™œìš©í•˜ì—¬ UI ì»¤ìŠ¤í…€ ë¹„ìš©ì„ ìµœì†Œí™”í–ˆìŠµë‹ˆë‹¤. <br>
ìµœì¢… ë°°í¬ëŠ” **PWA**ë¥¼ í†µí•´ ì›¹ ì•±ì„ ë°ìŠ¤í¬íƒ‘ ë° ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ ë‹¤ìš´ë¡œë“œí•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.


<br>


## ê°œìš” âœ‹ğŸ»

- í”„ë¡œì íŠ¸ ì´ë¦„ : ë‚´ ê¿ˆì€ ìŠ¹ë¦¬ìš”ì •
- ì§„í–‰ ê¸°ê°„ : 2024.07.09 ~ 2024.07.19
- ê¸°ì—¬ë„ : 100% (ê°œì¸ í”„ë¡œì íŠ¸)
- ë°°í¬ ì£¼ì†Œ : https://yu-hazel.github.io/baseball_v2/

<br>

## ê¸°ìˆ  ìŠ¤íƒ ğŸ¥

### Development

![Vue.js](https://img.shields.io/badge/vuejs-%2335495e.svg?style=for-the-badge&logo=vuedotjs&logoColor=%234FC08D)
![Vuetify](https://img.shields.io/badge/Vuetify-1867C0?style=for-the-badge&logo=vuetify&logoColor=AEDDFF)
![Vite](https://img.shields.io/badge/vite-%23646CFF.svg?style=for-the-badge&logo=vite&logoColor=white)

![JavaScript](https://img.shields.io/badge/javascript-%23323330.svg?style=for-the-badge&logo=javascript&logoColor=%23F7DF1E)
![HTML5](https://img.shields.io/badge/html5-%23E34F26.svg?style=for-the-badge&logo=html5&logoColor=white)
![CSS3](https://img.shields.io/badge/css3-%231572B6.svg?style=for-the-badge&logo=css3&logoColor=white)
![Python](https://img.shields.io/badge/python-3670A0?style=for-the-badge&logo=python&logoColor=ffdd54)

### Database

![Supabase](https://img.shields.io/badge/Supabase-3ECF8E?style=for-the-badge&logo=supabase&logoColor=white)

### Environment

![GitHub](https://img.shields.io/badge/github-%23121011.svg?style=for-the-badge&logo=github&logoColor=white)

<br>


## ë¯¸ë¦¬ ë³´ê¸° ğŸ“‹

![á„‰á…³á†¼á„…á…µá„‹á…­á„Œá…¥á†¼](https://github.com/user-attachments/assets/0b11976f-3899-46a4-8d89-6fe32a771ee9) |![á„‰á…³á†¼á„…á…µá„‹á…­á„Œá…¥á†¼02](https://github.com/user-attachments/assets/10e8306a-7f84-487a-8270-0cec5c1e0e53)
--- | --- |

<br>


## ì£¼ìš” ê¸°ëŠ¥ ğŸ³

- Supabaseë¥¼ í†µí•œ ë¡œê·¸ì¸, ë°ì´í„° CRUD
- Python, BeautifulSoupìœ¼ë¡œ í¬ë¡¤ë§í•œ kbo ê²½ê¸° ì¼ì •ì„ ë°”íƒ•ìœ¼ë¡œ ê¸°ë¡ ë“±ë¡
- ë§ˆì´ íŒ€ ì„¤ì •ì— ë”°ë¥¸ ë°°ê²½ ì´ë¯¸ì§€(íŒ€ ë¡œê³ ) ì—°ë™

<br>


## íŠ¸ëŸ¬ë¸” ìŠˆíŒ… â˜„ï¸

1. **ë°°ê²½ ì´ë¯¸ì§€ê°€ ë¡œë“œë˜ì§€ ì•ŠìŒ**
  - ë¬¸ì œ ìƒí™©
     : ê° íŒ€ì— ëŒ€í•œ ë°°ê²½ ì´ë¯¸ì§€ê°€ ì œëŒ€ë¡œ ë¡œë“œë˜ì§€ ì•ŠìŒ
  - ì›ì¸
     : updateBackgroundClass í•¨ìˆ˜ê°€ ì‚¬ìš©ì ì¸ì¦(ë¡œê·¸ì¸) í›„ ì œëŒ€ë¡œ í˜¸ì¶œë˜ì§€ ì•Šê³ , ì‚¬ìš©ìì˜ 'ë§ˆì´ íŒ€'ì— í•´ë‹¹í•˜ëŠ” íŒ€ ì´ë¦„ì´ í´ë˜ìŠ¤ ì´ë¦„ì— ë§¤í•‘ë˜ì§€ ì•Šì•˜ìŒ
  - ìµœì¢… í•´ê²°ì„ ìœ„í•œ ì‹œí–‰ì°©ì˜¤
    - updateBackgroundClass í•¨ìˆ˜ê°€ ì˜¬ë°”ë¥´ê²Œ í˜¸ì¶œë˜ëŠ”ì§€ ì½˜ì†” ë¡œê·¸ë¥¼ í†µí•˜ì—¬ í™•ì¸
    - CSS í´ë˜ìŠ¤ ì´ë¦„ì´ ì˜¬ë°”ë¥´ê²Œ ì ìš©ë˜ëŠ”ì§€ í™•ì¸
    - íŒ€ ì´ë¦„ì´ ì •í™•í•˜ê²Œ ë§¤í•‘ë˜ëŠ”ì§€ í™•ì¸
  - í•´ê²° ë°©ë²•
     : watchë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•˜ê±°ë‚˜ ì‚¬ìš©ìì˜ ë§ˆì´ íŒ€ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ updateBackgroundClass í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë„ë¡ ìˆ˜ì •

```javascript
const teamMapping = {
  'í•œí™”': 'hanwha',
  'ë‘ì‚°': 'doosan',
  'KIA': 'kia',
  'í‚¤ì›€': 'kiwoom',
  'kt': 'kt',
  'LG': 'lg',
  'ë¡¯ë°': 'lotte',
  'NC': 'nc',
  'ì‚¼ì„±': 'samsung',
  'SSG': 'ssg'
};

const updateBackgroundClass = (team) => {
  const appWrap = document.querySelector('.v-application__wrap');
  if (!appWrap) return;

  // ê¸°ì¡´ í´ë˜ìŠ¤ ì œê±°
  appWrap.className = appWrap.className.split(' ').filter(c => !c.startsWith('team-')).join(' ');

  const teamClass = teamMapping[team];
  if (teamClass) {
    appWrap.classList.add('team-logo', `team-${teamClass}`);
  } else {
    console.error('Unknown team name:', team);
  }
};

const fetchUserTeam = async (userId) => {
  const { data, error } = await supabase
    .from('baseball_users')
    .select('my_team')
    .eq('user_id', userId)
    .single();

  if (error) {
    console.error('Error fetching user team:', error);
    return null;
  }
  return data.my_team;
};

const initBackgroundClass = async () => {
  await authStore.checkAuth(); // ì‚¬ìš©ì ì •ë³´ë¥¼ í™•ì¸
  if (authStore.user) {
    const userTeam = await fetchUserTeam(authStore.user.id); // ì‚¬ìš©ì IDë¡œ íŒ€ ì •ë³´ë¥¼ ê°€ì ¸ì˜´
    updateBackgroundClass(userTeam); // ì‚¬ìš©ì ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë°°ê²½ í´ë˜ìŠ¤ ì„¤ì •
  }
};

watch(() => authStore.user, async (newUser) => {
  if (newUser) {
    const userTeam = await fetchUserTeam(newUser.id); // ì‚¬ìš©ì IDë¡œ íŒ€ ì •ë³´ë¥¼ ê°€ì ¸ì˜´
    if (userTeam) {
      updateBackgroundClass(userTeam);
    }
  }
});

onMounted(async () => {
  await initBackgroundClass();
  await gameStore.fetchGames();
});
```

  - ëŠë‚€ ì 
     : ìƒíƒœ ë³€í™”ë¥¼ ê°ì§€í•˜ëŠ” Vueì˜ watch, ê·¸ë¦¬ê³  onMountedì™€ ê°™ì€ ìƒëª…ì£¼ê¸° í›…ì˜ ì ì ˆí•œ í™œìš© ë°©ë²•ì„ ë‹¤ì‹œ í•œ ë²ˆ ìˆ™ì§€í•˜ê²Œ ë˜ì—ˆìŒ.

    <br>

 2. **ì‚¬ìš©ìë³„ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°**
  - ë¬¸ì œ ìƒí™© : ë¡œê·¸ì¸ í›„ ê¸°ë¡ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê³¼ì •ì—ì„œ baseball02 í…Œì´ë¸”ì˜ ëª¨ë“  ë ˆì½”ë“œë¥¼ ê°€ì ¸ì˜¤ëŠ” ìƒí™© ë°œìƒ
  - ì›ì¸ : ê°œë°œ ê³¼ì •ì—ì„œ ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ë°ì´í„°ë¥¼ ê³ ë ¤í•˜ì§€ ì•Šì•„ user idë¥¼ í†µí•œ ë ˆì½”ë“œ í•„í„°ë§ ê³¼ì •ì„ ëˆ„ë½í•¨
  - í•´ê²° ë°©ë²• : stores/game.jsì˜ fetchGames ë©”ì„œë“œë¥¼ ìˆ˜ì •í•˜ì—¬ ì¸ì¦ëœ ì‚¬ìš©ìì˜ idì— ë”°ë¼ ë ˆì½”ë“œë¥¼ ê°€ì ¸ì˜¤ë„ë¡ ìˆ˜ì •

```javascript
async fetchGames(userId) {
  const { data, error } = await supabase
    .from('baseball02')
    .select('*')
    .eq('user_id', userId);

  if (error) {
    console.error('Error fetching games:', error);
  } else {
    this.games = data.sort((a, b) => new Date(b.date) - new Date(a.date));
  }
}
```
  - ëŠë‚€ ì  : ì‚¬ìš©ìë³„ë¡œ ë‹¤ë¥¸ ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ì–´ì•¼ í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ê°œë°œí•  ë•Œ, ìŠµê´€ì ìœ¼ë¡œ ë³„ë„ ë¡œê·¸ì¸ í™˜ê²½ì„ í•¨ê»˜ í™•ì¸í•´ì•¼ê² ë‹¤ê³  ë°˜ì„±í•˜ê²Œ ë˜ì—ˆìŒ.

<br>


## ê°œì„  ëª©í‘œ ğŸª´


- ì–´ë“œë¯¼ í˜ì´ì§€ë¥¼ í†µí•´ ë‚´ê°€ ì‘ì„±í•œ ê¸€ ëª©ë¡ì„ í•œ ë²ˆì— ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ ì¶”ê°€
- ë³„ë„ í˜ì´ì§€ì— ë§ˆì´ íŒ€ì˜ í•´ë‹¹ ì‹œì¦Œ ë“±ë²ˆí˜¸, ìºì¹˜í”„ë ˆì´ì¦ˆ ë“± ì‚¬ìš©ìì—ê²Œ ë‹¤ì–‘í•œ ë³¼ê±°ë¦¬ ì œê³µ


